<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Redis内存数据库基本操作 - Alan的进阶日志
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="Alan的进阶日志" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
 
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:alanalbert.github.io ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="_self" href="index.html">博客</a></li>
        
        <li id=""><a target="_self" href="archives.html">归档</a></li>
        
        <li id=""><a target="_self" href="about.html">关于</a></li>
        
        <li id=""><a target="_blank" href="https://github.com/AlanAlbert">GitHub</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="https://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Alan的进阶日志</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="_self" href="index.html">博客</a></li>
        
        <li><a target="_self" href="archives.html">归档</a></li>
        
        <li><a target="_self" href="about.html">关于</a></li>
        
        <li><a target="_blank" href="https://github.com/AlanAlbert">GitHub</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="php.html">PHP</a></li>
        
            <li><a href="interview.html">面试</a></li>
        
            <li><a href="security.html">安全</a></li>
        
            <li><a href="linux.html">Linux</a></li>
        
            <li><a href="mysql.html">MySQL</a></li>
        
            <li><a href="redis.html">Redis</a></li>
        
            <li><a href="data-struct-and-algorithm.html">数据结构及算法</a></li>
        
            <li><a href="computer-network.html">计算机网络</a></li>
        
            <li><a href="version-control-tool.html">版本控制工具</a></li>
        
            <li><a href="read.html">读书</a></li>
        
            <li><a href="javascript.html">JavaScript</a></li>
        
            <li><a href="web-server.html">Web服务器</a></li>
        
            <li><a href="hackintosh.html">黑苹果</a></li>
        
            <li><a href="markdown.html">Markdown</a></li>
        
            <li><a href="other.html">其它</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
  $(function(){
    $('#menu_item_index').addClass('is_active');
  });
</script>
<div class="row">
  <div class="large-8 medium-8 columns">
      <div class="markdown-body article-wrap">
       <div class="article">
          
              <div class="f-img"><img src="https://source.unsplash.com/random/1024x400" /></div>
          
          <h1>Redis内存数据库基本操作</h1>
     
        <div class="read-more clearfix">
          <span class="date">2018/5/31</span>

          <span>posted in&nbsp;</span> 
          
              <span class="posted-in"><a href='redis.html'>Redis</a></span>
           
         
          <span class="comments">
            

            
          </span>

        </div>
      </div><!-- article -->

      <div class="article-content">
      <span id="more"></span><!-- more -->

<p><em>Mission Start!</em></p>

<pre><code class="language-text">redis-server [redis.conf配置文件路径] // 启动Redis
redis-cli // 连接Redis
</code></pre>

<h2 id="toc_0">一、数据库操作</h2>

<pre><code class="language-text">select dbindex          // 选择数据库，使用config get databases可以获取Redis配置的数据库个数，默认为16个(0-15)
dbsize                  // 返回当前数据库中键值的数量
flushdb                 // 删除当前数据库中所有的键值
flushall                // 删除所有数据库中所有的键值
</code></pre>

<h2 id="toc_1">二、对键key的操作</h2>

<pre><code class="language-text">exists key              // 判断key是否存在
del key1 key2...        // 删除key1、key2...
type key                // 返回key对应值的类型
keys pattern            // 返回所有匹配的键，pattern为匹配格式
randomkey               // 随机返回一个键
rename key1 key2        // 将key1的键名改为key2，值不改变  
expire key seconds      // 为key设置过期时间(秒)
ttl key                 // 返回key的剩余过期秒数
move key dbindex        // 将key移动到dbindex数据库下
</code></pre>

<h2 id="toc_2">三、对值--String的操作</h2>

<pre><code class="language-text">set key value           // 设置key对应的值为value
get key                 // 根据key获取对应的值
mset key1 value1 ...    // 一次设置多个键值
mget key1 value1 ...    // 一次获取多个键值
incr key                // key的值加上1
decr key                // key的值减去1
incrby key integer      // key的值加上integer(整数)
decrby key integer      // key的值减去integer(整数)
append key value        // key的值后追加value
substr key start end    // 返回截取到的key的值(从start开始，end结束)
</code></pre>

<h2 id="toc_3">四、对值--List(双向链表)的操作</h2>

<pre><code class="language-text">lpush key value         // 向key对应的链表头部添加value
rpush key value         // 向key对应的链表尾部添加value
lpop key                // 删除key对应链表的头部元素
rpop key                // 删除key对应链表的尾部元素
llen key                // 返回key对应链表的长度（不存在返回0；若key对应的不是链表，返回错误）
lrange key start end    // 返回key对应链表的start~end内的元素
ltrim key start end     // 截取key对应链表，保留指定区间内的元素
lset key index value    // 设置key对应链表下标是index的值为value
lrem key count value    // 从key对应链表中删除count个值为value的元素 (若count为0，则删除全部值为value的元素)
</code></pre>

<h2 id="toc_4">五、对值--Set(集合)的操作</h2>

<pre><code class="language-text">sadd key member ...     // 向key对应集合中添加成员member
smembers key            // 返回key对应集合的所有元素(无序)
srem key member ...     // 移除key对应集合中值为member的元素，成功则返回1
smove key1 key2 member  // 将key1对应集合中值为member的元素移除，并添加至key2对应的集合
scard key               // 返回key对应集合的元素个数
sismember key member    // 判断key对应集合中是否有member
sinter key1 key2 ...    // 返回key1,key2...对应集合的交集
sunion key1 key2 ...    // 返回key1,key2...对应集合的并集
sdiff key1 key2 ...     // 返回key1,key2...对应集合的差集
sinterstore new_key key1 key2   //将key1,key2...对应集合的交集保存至new_key对应的集合
sunionstore new_key key1 key2   //将key1,key2...对应集合的并集保存至new_key对应的集合
sdiffstore new_key key1 key2    //将key1,key2...对应集合的差集保存至new_key对应的集合
</code></pre>

<h2 id="toc_5">六、对值--SortSet(排序集合)的操作</h2>

<pre><code class="language-text">zadd key score id   // 向key对应排序集合中添加成员(键为key，权为score，值为value)，如：zadd stu_age 18 1
zincrby key int id  // 给值为id的元素的权加int
zcard key           // 返回排序集合中元素个数
zscore key id       // 返回排序集合中值为id的元素的权
zrange key start end    // 返回key对应排序集合的指定区间的元素的值id（正序，根据权value进行排序）
zrevrange key start end // 返回key对应排序集合的指定区间的元素的值id（逆序，根据权value进行排序）
zrangebyscore key min max   // 返回排序集合中权score在[min,max]之间的元素的值id
zrank key id            // 返回值为id的元素在集合中的下标(正序排序)
zrevrank key id         // 返回值为id的元素在集合中的下标(逆序排序)
zcount key min max      // 返回在区间[min,max]的元素个数
zrem key id         // 根据值id删除指定元素，返回1表示成功，返回0表示元素不存在       
zremrangebyrank key min max //删除排序集合中排名在[min,max]中的元素
zremrangebyscore key min max    //删除排序集合中权在[min,max]中的元素
</code></pre>

<h2 id="toc_6">七、对值--Hash的操作</h2>

<pre><code class="language-text">hset key field value
hget key field
hmset key field1 value1
hmget key field1 field2
hincrby key field
hexists key field
hdel key field
hkeys key 
hlen key
hvals key
hgetall key
</code></pre>

<p><em>Mission Complete!</em></p>


    

      </div>

      <div class="row">
        <div class="large-6 columns">
        <p class="text-left" style="padding:15px 0px;">
      
          <a href="15279454723981.html" 
          title="Previous Post: 后端架构师技术图谱【转】">&laquo; 后端架构师技术图谱【转】</a>
      
        </p>
        </div>
        <div class="large-6 columns">
      <p class="text-right" style="padding:15px 0px;">
      
          <a  href="15276869026820.html" 
          title="Next Post: 初探Laravel---round 6 补充：Laravel目录结构">初探Laravel---round 6 补充：Laravel目录结构 &raquo;</a>
      
      </p>
        </div>
      </div>
      <div class="comments-wrap">
        <div class="share-comments">
          <script 
    src="https://utteranc.es/client.js"
    repo="AlanAlbert/personal-blog-comments"
    issue-term="pathname"     
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>

          

          
        </div>
      </div>
    </div><!-- article-wrap -->
  </div><!-- large 8 -->




 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <div class="site-a-logo"><img src="https://tvax4.sinaimg.cn/crop.0.0.664.664.180/006k9NITly8fejxhyoc3aj30ig0igmy3.jpg?Expires=1562496252&ssig=LhZKVSOY7F&KID=imgbed,tva" /></div>
            
                <h1>Alan的进阶日志</h1>
                <div class="site-des">与有肝胆人共事，从无字句处读书。</div>
                <div class="social">


<a target="_blank" class="stackoverflow" href="https://stackoverflow.com/users/9723854/alan" title="StackOverflow"></a>




<a target="_blank" class="weibo" href="https://weibo.com/u/5794659803" title="weibo">Weibo</a>
<a target="_blank" class="twitter" target="_blank" href="https://twitter.com/Alan_Albert_" title="Twitter">Twitter</a>
<a target="_blank" class="github" target="_blank" href="https://github.com/AlanAlbert" title="GitHub">GitHub</a>
<a target="_blank" class="email" href="mailto:alan1766447919@gmail.com" title="Email">Email</a>
  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

               
             <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Important</h2>
                </div>
                <div class="side-content">
                  <div style="color:#ff0000; text-align:center; padding:8px;" class="bg-info site_notice">
                    ① 可以使用GitHub账号登录进行评论哦😁<br/><br/>② 欢迎关注我的个人公众号，一起交流学习~<br/ ><img src="https://mp.weixin.qq.com/mp/qrcode?scene=10000005&size=102&__biz=MzIzNDU0NTc4OA==&mid=100000001&idx=1&sn=34f05b9196beb41e8561cbdfc5de26f5&send_time=1566403069" />
                  </div>
                </div>
            </div>
    

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="php.html"><strong>PHP</strong></a>
        
            <a href="interview.html"><strong>面试</strong></a>
        
            <a href="security.html"><strong>安全</strong></a>
        
            <a href="linux.html"><strong>Linux</strong></a>
        
            <a href="mysql.html"><strong>MySQL</strong></a>
        
            <a href="redis.html"><strong>Redis</strong></a>
        
            <a href="data-struct-and-algorithm.html"><strong>数据结构及算法</strong></a>
        
            <a href="computer-network.html"><strong>计算机网络</strong></a>
        
            <a href="version-control-tool.html"><strong>版本控制工具</strong></a>
        
            <a href="read.html"><strong>读书</strong></a>
        
            <a href="javascript.html"><strong>JavaScript</strong></a>
        
            <a href="web-server.html"><strong>Web服务器</strong></a>
        
            <a href="hackintosh.html"><strong>黑苹果</strong></a>
        
            <a href="markdown.html"><strong>Markdown</strong></a>
        
            <a href="other.html"><strong>其它</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15810423370557.html">初探Docker---使用Docker Compose编排容器</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15714902755948.html">初探Docker---编写Dockerfile搭建PHP开发环境</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15704551543845.html">初探Docker---Docker及Dockerfile</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15685386915043.html">百万级数据迁移、汇总</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15657597684450.html">PHP实现异步回调的总结</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>



  













<script src="asset/prism.js"></script>


<style type="text/css">
figure{margin: 0;padding: 0;}
figcaption{text-align:center;}

/* PrismJS 1.14.0
 http://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
    color: black;
    background: none;
    text-shadow: 0 1px white;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
    
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
    
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
    text-shadow: none;
    background:#b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
    text-shadow: none;
    background: #b3d4fc;
}

@media print {
    code[class*="language-"],
    pre[class*="language-"] {
        text-shadow: none;
    }
}

/* Code blocks */
pre[class*="language-"] {
    padding: 1em;
    margin: .5em 0;
    overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
    background: #F7F7F7;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
    padding: .1em;
    border-radius: .3em;
    white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: slategray;
}

.token.punctuation {
    color: #999;
}

.namespace {
    opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
    color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
    color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
    color: #9a6e3a;
    background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
    color: #07a;
}

.token.function,
.token.class-name {
    color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
    color: #e90;
}

.token.important,
.token.bold {
    font-weight: bold;
}
.token.italic {
    font-style: italic;
}

.token.entity {
    cursor: help;
}


pre[class*="language-"].line-numbers {
    position: relative;
    padding-left: 3.8em;
    counter-reset: linenumber;
}

pre[class*="language-"].line-numbers > code {
    position: relative;
    white-space: inherit;
}

.line-numbers .line-numbers-rows {
    position: absolute;
    pointer-events: none;
    top: 0;
    font-size: 100%;
    left: -3.8em;
    width: 3em; /* works for line-numbers below 1000 lines */
    letter-spacing: -1px;
    border-right: 1px solid #999;

    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

}

    .line-numbers-rows > span {
        pointer-events: none;
        display: block;
        counter-increment: linenumber;
    }

        .line-numbers-rows > span:before {
            content: counter(linenumber);
            color: #999;
            display: block;
            padding-right: 0.8em;
            text-align: right;
        }

</style>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>



  </body>
</html>
